<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:util="http://www.springframework.org/schema/util"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
	http://www.springframework.org/schema/beans/spring-beans-3.0.xsd http://www.springframework.org/schema/context
	http://www.springframework.org/schema/context/spring-context-3.0.xsd http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd">

    <context:component-scan base-package="dk.statsbiblioteket.newspaper.processmonitor.backend"/>

    <bean id="sboi_config" class="dk.statsbiblioteket.medieplatform.autonomous.processmonitor.datasources.SBOIDatasourceConfiguration" scope="singleton">
        <property name="domsPass" value="${fedora.admin.password}"/>
        <property name="domsUser" value="${fedora.admin.username}"/>
        <property name="domsUrl" value="${fedora.server}"/>
        <property name="summaLocation" value="${SBOI.summa}"/>
        <property name="urlToPidGen" value="${pidgenerator.location}"/>
    </bean>

    <bean id="sboi" class="dk.statsbiblioteket.medieplatform.autonomous.processmonitor.datasources.SBOIDatasource" scope="singleton">
        <constructor-arg ref="sboi_config"/>
    </bean>

    <bean id="mpPakConfig" class="dk.statsbiblioteket.newspaper.mfpakintegration.configuration.MfPakConfiguration"
          scope="singleton">
        <property name="databaseUrl" value="${mfpak.postgres.url}"/>
        <property name="databaseUser" value="${mfpak.postgres.user}"/>
        <property name="databasePassword" value="${mfpak.postgres.password}"/>
    </bean>
    <bean id="mfPak" class="dk.statsbiblioteket.newspaper.mfpakintegration.MfPakDataSource" scope="singleton">
        <constructor-arg ref="mpPakConfig"/>
    </bean>

    <bean id="dataSourceMockup"
          class="dk.statsbiblioteket.medieplatform.autonomous.processmonitor.datasources.DataSourceMockup"
          scope="singleton">
        <property name="username" value="${fedora.admin.username}"/>
        <property name="password" value="${fedora.admin.password}"/>
    </bean>

    <!--Reserved name for the data sources list-->
    <util:list id="dataSourcesList" list-class="java.util.ArrayList" scope="request">
        <ref bean="mfPak"/>
        <ref bean="sboi"/>
        <ref bean="dataSourceMockup"/>
    </util:list>


</beans>